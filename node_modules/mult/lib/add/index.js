"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
exports.__esModule = true;
var fs_1 = __importDefault(require("fs"));
var package_config_1 = __importDefault(require("../utils/package-config"));
var delay_for_effect_1 = __importDefault(require("../utils/delay-for-effect"));
exports["default"] = (function (name) {
    delay_for_effect_1["default"]('Adding new Repository', function (spinner) {
        var configExists = fs_1["default"].existsSync("./" + package_config_1["default"].configFileName);
        if (configExists) {
            spinner.fail('Config File Already Exists');
        }
        else {
            fs_1["default"].open("./" + package_config_1["default"].configFileName, 'w', function (err) {
                if (err)
                    throw new Error('Error creating config');
                spinner.succeed('Config File Created');
            });
            fs_1["default"].writeFileSync("./" + package_config_1["default"].configFileName, JSON.stringify(package_config_1["default"].template, null, 4));
        }
    });
});
